<!DOCTYPE html>
<html>
  <head>
    <title>GraphQL</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="css/stylesheet.css" />
  </head>
  <body>
    <textarea id="source">

class: middle, title-slide

# CDS & NCFRS

---

class: center, middle

### All companies are software companies,<br/> some just don't know it yet...

---

class: left, middle

### Service delivery is a core function of government

* User focus <span class="small">research & design skills</span>
* Incremental <span class="small">Agile workflow, CI/CD</span>
* Quality <span class="small">TDD & new technologies</span>
* Cloud delivery <span class="small">Architectural and operational changes</span>

---

class: left, middle

### We partner to help departments figure that stuff out

* Deliver solutions <span class="small">design, prototype, build</span>
* Build capacity <span class="small">recruitment, learning, coaching, events</span>
* Provide advice <span class="small">help delivery inform policy by supporting OCIO/others</span>

---

class: left, middle

# Our focus: NCFRS

---

class: left, middle

### Some numbers:

* 36,710,000	<span class="small">population of Canada in 2017</span>
* 13,215,600	<span class="small">36% ‚Äútarget of a cybercrime attempt‚Äù; Accenture's 2017 Canada Cybercrime Survey</span>
* 6,974,900		<span class="small">15% ‚Äúpreviously a victim‚Äù; Accenture's 2017 Canada Cybercrime Survey</span>
* 20,190,500	<span class="small">‚ÄúTotal addressable market‚Äù;  (assuming no overlap, single incident/person)</span>

---

class: left, middle

### Under reporting

* 417,936 ‚Äúoverall calls‚Äù to CAFC
* 2.06% reporting rate? <span class="small">(417,936/20,190,500 * 100)</span>
* Users want to "tell someone" or "let someone know". üëç
* Is a "report" the same as "telling someone"?

---

class: left, middle
### Some guesses: likely not news

* Spikey traffic?: <span class="small">media coverage, new scams</span>
* Mobile: <span class="small">67% requests to Google Canada came from mobile in 2017</span>
* Smart client: <span class="small">handle submissions/uploads over flakey networks</span>
* Deliver value: <span class="small">reach out to communicate updates, new scams</span>
* Deployment platform: <span class="small">We have preferences, but partners decide</span>

---

class: left, middle
### Some implications

* Spikey traffic?: <span class="small">avoid fixed capacity infrastructure</span>
* Mobile: <span class="small">Mobile friendly design, minimize requests to API, minimize data usage</span>
* Smart client: <span class="small">handle offline states, stay resident on device</span>
* Deliver value: <span class="small">code resident on device, access to notifications, other APIs</span>
* Deployment platform: <span class="small">Portable across providers/on-prem</span>

---

class: left, middle
### Some solutions

* Spikey traffic?: <span class="small">Kubernetes</span>
* Mobile: <span class="small">Progressive Web App, Mobile first design, GraphQL API</span>
* Smart client: <span class="small">Progressive Web App, handle offline with Service Worker</span>
* Deliver value: <span class="small">Progressive Web App, Notifications API, more</span>
* Deployment platform: <span class="small">Kubernetes</span>

---

class: left, middle

### Architecture: Cloud Native

* Container packaged <span class="small">(Docker)</span>
* Microservices <span class="small">(PWA:React/Nodejs, API:GraphQL/Nodejs, DB:ArangoDB)</span>
* Dynamically managed <span class="small">(Kubernetes/GCP)</span>

---

class: left, middle

### Architecture: Cloud Native

* Container packaged <span class="small">(Docker)</span>
* Microservices <span class="small">(PWA:Vue/Nodejs, API:GraphQL/Java, DB:Amazon QLDB/Neptune)</span>
* Dynamically managed <span class="small">(Kubernetes/AWS)</span>

---
class: left, middle
### Architecture: Cloud Native

* Container packaged <span class="small">(Docker)</span>
* Microservices <span class="small">(PWA:Webcomponents/Nodejs, API:GRPC/Go, DB:CosmosDB)
</span>
* Dynamically managed <span class="small">(Kubernetes/Azure)</span>

---

class: center, middle

>When faced with two or more alternatives that deliver roughly the same value, take the path that makes future change easier.<cite>Dave Thomas</cite>

---

class: left, middle

# Our focus: NCFRS

---

class: left, middle

## Microservices

---

class: left, middle, onepointfour

### Microservices (simple, not easy)

* tactically: easy to create
* tactically: individually scalable
* tactically: deploy multiple units
* organisationally: easily replaceable, change is easy
* organisationally: easily observable

---

class: left, middle, onepointfour

### Monoliths (easy, not simple)

* tactically: easy to create
* tactically: scales as a unit
* tactically: deploy a single unit
* organisationally: years of effort to get rid of, change is hard
* organisationally: not very observable

---


class: left, middle

## Kubernetes

---

class: left, middle, onepointfive

>gcloud container clusters create ncfrs-cluster --enable-autoscaling --max-nodes=5 --min-nodes=3 --region=northamerica-northeast1 --enable-autoupgrade --addons=Istio

* monitoring
* centralised logging
* auto-upgrading VM OS and Kubernetes versions
* auto-scaling
* encrypted disks
* data residency

---


class: middle, center

### Service meshes like Istio help manage this new world

.sixty[![](images/service-topology.png)]

---

class: middle, left, thoughts

## Thoughts

* "The right tool for the job" can seriously reduce complexity
* Teams must "do the right thing" for their context/constituency
* Kubernetes/Microservices: consistency without uniformity
* Components/libraries/services: consistency without centralisation
* Favour tech that makes introspection/automation easy
* Extract libraries/tools/services out of the patterns that emerge


    </textarea>
    <script src="js/remark.min.js"></script>
    <script>
      let slideshow = remark.create({ ratio: '16:9' })
    </script>
  </body>
</html>
